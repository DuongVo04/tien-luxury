@model InvoiceListViewModel

@{
    ViewData["Title"] = "Orders Management";
}

<link href="~/css/admin-style/Invoice-management-style.css" rel="stylesheet" />

<nav class="navbar navbar-light">
    <div class="container-fluid">
        <span class="navbar-brand">Orders Management</span>
    </div>
</nav>

<div class="orders-container" id="orders">
    <div class="order-management">

        @* <div class="filter-section" style="margin-bottom: 15px;">
            <label for="statusFilter" style="margin-right: 10px; color: var(--text-color);">Lọc theo trạng thái:</label>
            <select id="statusFilter" onchange="filterOrders(this.value)"
                style="padding: 8px; border-radius: 5px; border: 1px solid var(--text-color); background: var(--card-color); color: var(--text-color);">
                <option value="all">Tất cả</option>
                <option value="Chưa xử lý">Chưa xử lý</option>
                <option value="Đang xử lý">Đang xử lý</option>
                <option value="Đã xử lý">Đã xử lý</option>
                <option value="Hủy đơn">Hủy đơn</option>
            </select>
        </div> *@

        <!-- Danh sách đơn hàng -->
        <div class="order-list">
            <div class="card">
                <div class="table-wrapper" style="max-height: 600px; overflow-y: auto; position: relative;">
                    <table class="order-table">
                        <thead style="position: sticky; top: 0; background: var(--card-color); z-index: 10;">
                            <tr>
                                <th>Mã đơn</th>
                                <th>Ngày đặt</th>
                                <th>Khách hàng</th>
                                <th>SĐT</th>
                                <th>Địa chỉ</th>
                                <th>Tổng tiền</th>
                                <th>Trạng thái</th>
                            </tr>
                        </thead>
                        <tbody id="orderTableBody">
                            @{
                                foreach (var i in Model.Invoices)
                                {   
                                    <tr class="order-row" onclick="window.location='@Url.Action("UpdateInvoiceStatus", "OrdersManagement", new { invoiceID = i.ID })'">
                                        <td>@i.ID</td>
                                        <td>@i.CreatedDate.ToLocalTime().ToString("dd/MM/yyyy")</td>
                                        <td>@i.CustomerName</td>
                                        <td>@i.PhoneNumber</td>
                                        <td>@i.Address</td>
                                        <td>@i.Total.ToString("C0")</td>
                                        <td><span class="status" data-status="@i.Status">@i.Status</span></td>
                                    </tr>
                                }

                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>      
    </div>
</div>